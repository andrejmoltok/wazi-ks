// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource mysql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "mysql"
}

generator client {
  provider = "prisma-client-js"
}

model Character {
  id                             String     @id @default(cuid())
  username                       String     @default("")
  role                           String?    @default("admin")
  serial                         String     @default("")
  characterName                  String     @unique @default("")
  sex                            String?    @default("F")
  email                          String     @unique @default("")
  password                       String
  reacts                         Reaction[] @relation("Character_reacts")
  money                          Int?       @default(100)
  raceSelect                     Race?      @relation("Character_raceSelect", fields: [raceSelectId], references: [id])
  raceSelectId                   String?    @map("raceSelect")
  characterLevel                 Int?       @default(1)
  rank                           String?    @default("beginner")
  strength                       Int?       @default(0)
  dexterity                      Int?       @default(0)
  constitution                   Int?       @default(0)
  intelligence                   Int?       @default(0)
  wisdom                         Int?       @default(0)
  charisma                       Int?       @default(0)
  languages                      Language[] @relation("Character_languages")
  outerDescription               Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  innerDescription               Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  backStory                      Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  notes                          Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  gameStyle                      String?    @default("lightcore")
  belief                         String?    @default("ateist")
  events                         Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  backpack                       Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  backPackContents               Int?       @default(0)
  backPackSlots                  Int?       @default(3)
  registeredAt                   DateTime?  @default(now())
  from_Multi_mainCharacter       Multi[]    @relation("Multi_mainCharacter")
  from_Multi_connectedCharacters Multi[]    @relation("Multi_connectedCharacters")

  @@index([username])
  @@index([raceSelectId])
}

model Multi {
  id                  String      @id @default(cuid())
  main                String      @default("")
  mainCharacter       Character?  @relation("Multi_mainCharacter", fields: [mainCharacterId], references: [id])
  mainCharacterId     String?     @map("mainCharacter")
  connectedCharacters Character[] @relation("Multi_connectedCharacters")

  @@index([mainCharacterId])
}

model Inventory {
  id              String @id @default(cuid())
  rightHandWeapon String @default("")
  leftHandWeapon  String @default("")
  shield          String @default("")
  armor           String @default("")
  casque          String @default("")
  amulet          String @default("")
  other           String @default("")
}

model Reaction {
  id                    String      @id @default(cuid())
  title                 String      @default("")
  reaction              Json        @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  author                String      @default("")
  location              String      @default("")
  serial                Int?        @default(-1)
  writtenAt             DateTime?   @default(now())
  from_Character_reacts Character[] @relation("Character_reacts")

  @@index([location])
}

model Request {
  id                String    @id @default(cuid())
  who               String    @default("")
  gameType          String?   @default("1v1")
  description       Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  accepted          Boolean   @default(false)
  rejected          Boolean   @default(false)
  rejectionReason   String    @default("")
  rejectionFeedback Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  requestedAt       DateTime? @default(now())
}

model Race {
  id                        String      @id @default(cuid())
  name                      String      @unique @default("")
  description               Json        @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  strength                  Int?        @default(0)
  dexterity                 Int?        @default(0)
  constitution              Int?        @default(0)
  intelligence              Int?        @default(0)
  wisdom                    Int?        @default(0)
  charisma                  Int?        @default(0)
  from_Character_raceSelect Character[] @relation("Character_raceSelect")
}

model Language {
  id                       String      @id @default(cuid())
  name                     String      @default("")
  from_Character_languages Character[] @relation("Character_languages")
}

model Calendar {
  id             String @id @default(cuid())
  calendarName   String @unique @default("")
  startingYear   Json?  @default("{\"year\":0}")
  firstDay       Json?  @default("{\"first_day\":0}")
  yearLength     Json?  @default("{\"year_len\":360}")
  numberOfMonths Json?  @default("{\"n_months\":11}")
  months         Json?  @default("{\"months\":[\"Ananeeh\",\"Arakeh\",\"Thanike\",\"Thalyta\",\"Beetary\",\"Kaniti\",\"Shadokti\",\"Jashruna\",\"Eurnia\",\"Bilara\",\"Kathirikh\"]}")
  monthsLength   Json?  @default("{\"month_len\":{\"Ananeeh\":33,\"Arakeh\":33,\"Thanike\":33,\"Thalyta\":32,\"Beetary\":33,\"Kaniti\":33,\"Shadokti\":32,\"Jashruna\":33,\"Eurnia\":33,\"Bilara\":33,\"Kathirikh\":32}}")
  weekLength     Json?  @default("{\"week_len\":7}")
  weekDays       Json?  @default("{\"weekdays\":[\"Katib\",\"Suriel\",\"Binem\",\"Jeha\",\"Daliel\",\"Penur\",\"Durim\"]}")
  numberOfMoons  Json?  @default("{\"n_moons\":1}")
  moons          Json?  @default("{\"moons\":[\"Camua\"]}")
  lunarCycle     Json?  @default("{\"lunar_cyc\":{\"Camua\":32}}")
}

model Log {
  id   String    @id @default(cuid())
  who  String    @default("")
  what String?   @default("")
  when DateTime? @default(now())
}

model PM {
  id       String    @id @default(cuid())
  who      String    @default("")
  toWhom   String    @default("")
  what     Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  reported Boolean   @default(false)
  when     DateTime? @default(now())
}
